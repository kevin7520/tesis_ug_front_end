!function(w){"object"==typeof exports&&typeof module<"u"?module.exports=w():"function"==typeof define&&define.amd?define([],w):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).dragula=w()}(function(){return function w(E,T,s){function g(i,d){if(!T[i]){if(!E[i]){var r="function"==typeof require&&require;if(!d&&r)return r(i,!0);if(n)return n(i,!0);throw(r=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",r}r=T[i]={exports:{}},E[i][0].call(r.exports,function(h){return g(E[i][1][h]||h)},r,r.exports,w,E,T,s)}return T[i].exports}for(var n="function"==typeof require&&require,a=0;a<s.length;a++)g(s[a]);return g}({1:[function(w,E,T){"use strict";var s={};function a(i){var d=s[i];return d?d.lastIndex=0:s[i]=d=new RegExp("(?:^|\\s)"+i+"(?:\\s|$)","g"),d}E.exports={add:function(i,d){var r=i.className;r.length?a(d).test(r)||(i.className+=" "+d):i.className=d},rm:function(i,d){i.className=i.className.replace(a(d)," ").trim()}}},{}],2:[function(w,E,T){(function(s){"use strict";var g=w("contra/emitter"),n=w("crossvent"),a=w("./classes"),i=document,d=i.documentElement;function r(t,S,v,p){s.navigator.pointerEnabled?n[S](t,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[v],p):s.navigator.msPointerEnabled?n[S](t,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[v],p):(n[S](t,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[v],p),n[S](t,v,p))}function h(t){return void 0!==t.touches?t.touches.length:void 0!==t.which&&0!==t.which?t.which:void 0!==t.buttons?t.buttons:void 0!==(t=t.button)?1&t?1:2&t?3:4&t?2:0:void 0}function o(t,S){return void 0!==s[S]?s[S]:(d.clientHeight?d:i.body)[t]}function f(t,S,v){var p=(t=t||{}).className||"";return t.className+=" gu-hide",v=i.elementFromPoint(S,v),t.className=p,v}function b(){return!1}function I(){return!0}function B(t){return t.width||t.right-t.left}function N(t){return t.height||t.bottom-t.top}function m(t){return t.parentNode===i?null:t.parentNode}function _(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||function S(v){return!(!v||"false"===v.contentEditable)&&("true"===v.contentEditable||S(m(v)))}(t)}function O(t){return t.nextElementSibling||function(){for(var S=t;(S=S.nextSibling)&&1!==S.nodeType;);return S}()}function D(t,v){v=(p=v).targetTouches&&p.targetTouches.length?p.targetTouches[0]:p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:p;var p={pageX:"clientX",pageY:"clientY"};return t in p&&!(t in v)&&p[t]in v&&(t=p[t]),v[t]}E.exports=function(t,S){var v,p,X,Q,W,Z,ee,j,k,C,q;1===arguments.length&&!1===Array.isArray(t)&&(S=t,t=[]);var R,M=null,u=S||{};void 0===u.moves&&(u.moves=I),void 0===u.accepts&&(u.accepts=I),void 0===u.invalid&&(u.invalid=function(){return!1}),void 0===u.containers&&(u.containers=t||[]),void 0===u.isContainer&&(u.isContainer=b),void 0===u.copy&&(u.copy=!1),void 0===u.copySortSource&&(u.copySortSource=!1),void 0===u.revertOnSpill&&(u.revertOnSpill=!1),void 0===u.removeOnSpill&&(u.removeOnSpill=!1),void 0===u.direction&&(u.direction="vertical"),void 0===u.ignoreInputTextSelection&&(u.ignoreInputTextSelection=!0),void 0===u.mirrorContainer&&(u.mirrorContainer=i.body);var x=g({containers:u.containers,start:function(e){(e=z(e))&&re(e)},end:ie,cancel:le,remove:ae,destroy:function(){ne(!0),H({})},canMove:function(e){return!!z(e)},dragging:!1});return!0===u.removeOnSpill&&x.on("over",function(e){a.rm(e,"gu-hide")}).on("out",function(e){x.dragging&&a.add(e,"gu-hide")}),ne(),x;function U(e){return-1!==x.containers.indexOf(e)||u.isContainer(e)}function ne(e){r(d,e=e?"remove":"add","mousedown",me),r(d,e,"mouseup",H)}function K(e){r(d,e?"remove":"add","mousemove",ve)}function te(e){n[e=e?"remove":"add"](d,"selectstart",oe),n[e](d,"click",oe)}function oe(e){R&&e.preventDefault()}function me(e){var c,l;Z=e.clientX,ee=e.clientY,1!==h(e)||e.metaKey||e.ctrlKey||(l=z(c=e.target))&&(R=l,K(),"mousedown"===e.type&&(_(c)?c.focus():e.preventDefault()))}function ve(e){if(R)if(0!==h(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-Z)<=(u.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-ee)<=(u.slideFactorY||0))){if(u.ignoreInputTextSelection){var c=D("clientX",e)||0,l=D("clientY",e)||0;if(_(i.elementFromPoint(c,l)))return}l=R,K(!0),te(),ie(),re(l),l={left:(y=(y=X).getBoundingClientRect()).left+o("scrollLeft","pageXOffset"),top:y.top+o("scrollTop","pageYOffset")},Q=D("pageX",e)-l.left,W=D("pageY",e)-l.top,a.add(C||X,"gu-transit"),function(){if(!v){var y=X.getBoundingClientRect();(v=X.cloneNode(!0)).style.width=B(y)+"px",v.style.height=N(y)+"px",a.rm(v,"gu-transit"),a.add(v,"gu-mirror"),u.mirrorContainer.appendChild(v),r(d,"add","mousemove",G),a.add(u.mirrorContainer,"gu-unselectable"),x.emit("cloned",v,X,"mirror")}}(),G(e)}}else H({});var y}function z(e){if(!(x.dragging&&v||U(e))){for(var c=e;m(e)&&!1===U(m(e));)if(u.invalid(e,c)||!(e=m(e)))return;var l=m(e);if(l&&!u.invalid(e,c)&&u.moves(e,l,c,O(e)))return{item:e,source:l}}}function re(e){("boolean"==typeof u.copy?u.copy:u.copy(e.item,e.source))&&(C=e.item.cloneNode(!0),x.emit("cloned",C,e.item,"copy")),p=e.source,X=e.item,j=k=O(e.item),x.dragging=!0,x.emit("drag",X,p)}function ie(){var e;x.dragging&&ce(e=C||X,m(e))}function ue(){K(!(R=!1)),te(!0)}function H(e){var c,l;ue(),x.dragging&&(c=C||X,l=D("clientX",e)||0,e=D("clientY",e)||0,(e=fe(f(v,l,e),l,e))&&(C&&u.copySortSource||!C||e!==p)?ce(c,e):(u.removeOnSpill?ae:le)())}function ce(e,c){var l=m(e);C&&u.copySortSource&&c===p&&l.removeChild(X),$(c)?x.emit("cancel",e,p,p):x.emit("drop",e,c,p,k),V()}function ae(){var e,c;x.dragging&&((c=m(e=C||X))&&c.removeChild(e),x.emit(C?"cancel":"remove",e,c,p),V())}function le(e){var c,l,y;x.dragging&&(c=0<arguments.length?e:u.revertOnSpill,!1===(e=$(y=m(l=C||X)))&&c&&(C?y&&y.removeChild(C):p.insertBefore(l,j)),e||c?x.emit("cancel",l,p,p):x.emit("drop",l,y,p,k),V())}function V(){var e=C||X;ue(),v&&(a.rm(u.mirrorContainer,"gu-unselectable"),r(d,"remove","mousemove",G),m(v).removeChild(v),v=null),e&&a.rm(e,"gu-transit"),q&&clearTimeout(q),x.dragging=!1,M&&x.emit("out",e,M,p),x.emit("dragend",e),p=X=C=j=k=q=M=null}function $(e,c){return c=void 0!==c?c:v?k:O(C||X),e===p&&c===j}function fe(e,c,l){for(var y=e;y&&!function(){if(!1===U(y))return!1;var L=se(y,e);return L=de(y,L,c,l),!!$(y,L)||u.accepts(X,y,p,L)}();)y=m(y);return y}function G(e){if(v){e.preventDefault();var c=D("clientX",e)||0,l=D("clientY",e)||0,y=l-W;v.style.left=(Y=c-Q)+"px",v.style.top=y+"px";var Y,L=C||X,A=null!==(Y=fe(e=f(v,c,l),c,l))&&Y!==M;if(!A&&null!==Y||(M&&F("out"),M=Y,A&&F("over")),y=m(L),Y!==p||!C||u.copySortSource){var P;if(null!==(e=se(Y,e)))P=de(Y,e,c,l);else{if(!0!==u.revertOnSpill||C)return void(C&&y&&y.removeChild(L));P=j,Y=p}(null===P&&A||P!==L&&P!==O(L))&&(k=P,Y.insertBefore(L,P),x.emit("shadow",L,Y,p))}else y&&y.removeChild(L)}function F(J){x.emit(J,L,M,p)}}function se(e,c){for(var l=c;l!==e&&m(l)!==e;)l=m(l);return l===d?null:l}function de(e,c,l,y){var L="horizontal"===u.direction;return(c!==e?function(){var A=c.getBoundingClientRect();return function Y(A){return A?O(c):c}(L?l>A.left+B(A)/2:y>A.top+N(A)/2)}:function(){var A,P,F,J=e.children.length;for(A=0;A<J;A++)if(F=(P=e.children[A]).getBoundingClientRect(),L&&F.left+F.width/2>l||!L&&F.top+F.height/2>y)return P;return null})()}}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(w,E,T){E.exports=function(s,g){return Array.prototype.slice.call(s,g)}},{}],4:[function(w,E,T){"use strict";var s=w("ticky");E.exports=function(g,n,a){g&&s(function(){g.apply(a||null,n||[])})}},{ticky:10}],5:[function(w,E,T){"use strict";var s=w("atoa"),g=w("./debounce");E.exports=function(n,a){var i=a||{},d={};return void 0===n&&(n={}),n.on=function(r,h){return d[r]?d[r].push(h):d[r]=[h],n},n.once=function(r,h){return h._once=!0,n.on(r,h),n},n.off=function(r,h){var o=arguments.length;if(1===o)delete d[r];else if(0===o)d={};else{if(!(r=d[r]))return n;r.splice(r.indexOf(h),1)}return n},n.emit=function(){var r=s(arguments);return n.emitterSnapshot(r.shift()).apply(this,r)},n.emitterSnapshot=function(r){var h=(d[r]||[]).slice(0);return function(){var o=s(arguments),f=this||n;if("error"===r&&!1!==i.throws&&!h.length)throw 1===o.length?o[0]:o;return h.forEach(function(b){i.async?g(b,o,f):b.apply(f,o),b._once&&n.off(r,b)}),n}},n}},{"./debounce":4,atoa:3}],6:[function(w,E,T){(function(s){"use strict";var g=w("custom-event"),n=w("./eventmap"),a=s.document,i=function(o,f,b,I){return o.addEventListener(f,b,I)},d=function(o,f,b,I){return o.removeEventListener(f,b,I)},r=[];function h(o,f,b){if(f=function(I,B,N){var m,_;for(m=0;m<r.length;m++)if((_=r[m]).element===I&&_.type===B&&_.fn===N)return m}(o,f,b))return b=r[f].wrapper,r.splice(f,1),b}s.addEventListener||(i=function(o,f,b){return o.attachEvent("on"+f,(m=h(I=o,B=f,N=b)||(_=I,O=N,function(D){var t=D||s.event;t.target=t.target||t.srcElement,t.preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},t.which=t.which||t.keyCode,O.call(_,t)}),r.push({wrapper:m,element:I,type:B,fn:N}),m));var I,B,N,_,O,m},d=function(o,f,b){if(b=h(o,f,b))return o.detachEvent("on"+f,b)}),E.exports={add:i,remove:d,fabricate:function(o,f,b){var B,I=-1===n.indexOf(f)?new g(f,{detail:b}):(a.createEvent?(B=a.createEvent("Event")).initEvent(f,!0,!0):a.createEventObject&&(B=a.createEventObject()),B);o.dispatchEvent?o.dispatchEvent(I):o.fireEvent("on"+f,I)}}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(w,E,T){(function(s){"use strict";var g=[],n="",a=/^on/;for(n in s)a.test(n)&&g.push(n.slice(2));E.exports=g}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],8:[function(w,E,T){(function(s){var g=s.CustomEvent;E.exports=function(){try{var n=new g("cat",{detail:{foo:"bar"}});return"cat"===n.type&&"bar"===n.detail.foo}catch{}}()?g:typeof document<"u"&&"function"==typeof document.createEvent?function(n,a){var i=document.createEvent("CustomEvent");return a?i.initCustomEvent(n,a.bubbles,a.cancelable,a.detail):i.initCustomEvent(n,!1,!1,void 0),i}:function(n,a){var i=document.createEventObject();return i.type=n,a?(i.bubbles=!!a.bubbles,i.cancelable=!!a.cancelable,i.detail=a.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],9:[function(w,n,T){var s,g;function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function d(m){if(s===setTimeout)return setTimeout(m,0);if((s===a||!s)&&setTimeout)return s=setTimeout,setTimeout(m,0);try{return s(m,0)}catch{try{return s.call(null,m,0)}catch{return s.call(this,m,0)}}}n=n.exports={},function(){try{s="function"==typeof setTimeout?setTimeout:a}catch{s=a}try{g="function"==typeof clearTimeout?clearTimeout:i}catch{g=i}}();var r,h=[],o=!1,f=-1;function b(){o&&r&&(o=!1,r.length?h=r.concat(h):f=-1,h.length&&I())}function I(){if(!o){var m=d(b);o=!0;for(var _=h.length;_;){for(r=h,h=[];++f<_;)r&&r[f].run();f=-1,_=h.length}r=null,o=!1,function(O){if(g===clearTimeout)return clearTimeout(O);if((g===i||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(O);try{g(O)}catch{try{return g.call(null,O)}catch{return g.call(this,O)}}}(m)}}function B(m,_){this.fun=m,this.array=_}function N(){}n.nextTick=function(m){var _=new Array(arguments.length-1);if(1<arguments.length)for(var O=1;O<arguments.length;O++)_[O-1]=arguments[O];h.push(new B(m,_)),1!==h.length||o||d(I)},B.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=N,n.addListener=N,n.once=N,n.off=N,n.removeListener=N,n.removeAllListeners=N,n.emit=N,n.prependListener=N,n.prependOnceListener=N,n.listeners=function(m){return[]},n.binding=function(m){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(m){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],10:[function(w,E,T){(function(s){E.exports="function"==typeof s?function(n){s(n)}:function(n){setTimeout(n,0)}}).call(this,w("timers").setImmediate)},{timers:11}],11:[function(w,E,T){(function(s,g){var n=w("process/browser.js").nextTick,a=Function.prototype.apply,i=Array.prototype.slice,d={},r=0;function h(o,f){this._id=o,this._clearFn=f}T.setTimeout=function(){return new h(a.call(setTimeout,window,arguments),clearTimeout)},T.setInterval=function(){return new h(a.call(setInterval,window,arguments),clearInterval)},T.clearTimeout=T.clearInterval=function(o){o.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},T.enroll=function(o,f){clearTimeout(o._idleTimeoutId),o._idleTimeout=f},T.unenroll=function(o){clearTimeout(o._idleTimeoutId),o._idleTimeout=-1},T._unrefActive=T.active=function(o){clearTimeout(o._idleTimeoutId);var f=o._idleTimeout;0<=f&&(o._idleTimeoutId=setTimeout(function(){o._onTimeout&&o._onTimeout()},f))},T.setImmediate="function"==typeof s?s:function(o){var f=r++,b=!(arguments.length<2)&&i.call(arguments,1);return d[f]=!0,n(function(){d[f]&&(b?o.apply(null,b):o.call(null),T.clearImmediate(f))}),f},T.clearImmediate="function"==typeof g?g:function(o){delete d[o]}}).call(this,w("timers").setImmediate,w("timers").clearImmediate)},{"process/browser.js":9,timers:11}]},{},[2])(2)});